locales = {
    'ru': {
        'btn_schedule': 'Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ ðŸ—“',
        'btn_grades': 'ÐžÑ†ÐµÐ½ÐºÐ¸ ðŸ“Š',
        'btn_settings': 'ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ âš™ï¸',
        'btn_back': 'ðŸ”™ ÐÐ°Ð·Ð°Ð´',
        'btn_schedule_tomorrow': 'ÐÐ° Ð·Ð°Ð²Ñ‚Ñ€Ð° âž¡ï¸',
        'btn_schedule_full': 'ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ ðŸ“š',
        'btn_attendance': 'ÐŸÐ¾ÑÐµÑ‰Ð°ÐµÐ¼Ð¾ÑÑ‚ÑŒ âœ…',
        'btn_schedule_today': 'ÐÐ° ÑÐµÐ³Ð¾Ð´Ð½Ñ ðŸ“',
        'btn_admin_schedule': 'Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ ðŸ“',
        
        'btn_lang_uz': "O'zbekcha ðŸ‡ºðŸ‡¿",
        'btn_lang_ru': 'Ð ÑƒÑÑÐºÐ¸Ð¹ ðŸ‡·ðŸ‡º',
        'btn_lang_en': 'English ðŸ‡¬ðŸ‡§',
        'btn_back_inline': 'ðŸ”™ ÐÐ°Ð·Ð°Ð´',
        'btn_att_present': 'âœ… Ð¢ÑƒÑ‚',
        'btn_att_absent': 'âŒ ÐÐµÑ‚',
        'btn_notify_lesson_on': 'âœ… Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ð± ÑƒÑ€Ð¾ÐºÐµ',
        'btn_notify_lesson_off': 'âŒ Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ð± ÑƒÑ€Ð¾ÐºÐµ',
        'btn_notify_schedule_on': 'âœ… Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð½Ð° Ð´ÐµÐ½ÑŒ',
        'btn_notify_schedule_off': 'âŒ Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð½Ð° Ð´ÐµÐ½ÑŒ',
        'btn_change_creds': 'Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸Ð½/Ð¿Ð°Ñ€Ð¾Ð»ÑŒ',

        'welcome': "Welcome! Please choose your language:\n"
                   "Xush kelibsiz! Iltimos, tilingizni tanlang:\n"
                   "Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ! ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ ÑÐ·Ñ‹Ðº:",
        'ask_login_password': "ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð»Ð¾Ð³Ð¸Ð½ Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ.\n"
                              "Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¸Ñ… Ð² Ð¾Ð´Ð½Ð¾Ð¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¸ (Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ») Ð¸Ð»Ð¸ Ð² Ð´Ð²ÑƒÑ… Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ñ….",
        'login_received_part': "ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¾. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ñ‚Ð¾Ñ€ÑƒÑŽ Ñ‡Ð°ÑÑ‚ÑŒ (Ð»Ð¾Ð³Ð¸Ð½ Ð¸Ð»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ).",
        'login_failed': "ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð»Ð¾Ð³Ð¸Ð½ Ð¸Ð»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°. Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð»Ð¾Ð³Ð¸Ð½:",
        'login_success_class': "Ð£ÑÐ¿ÐµÑˆÐ½Ñ‹Ð¹ Ð²Ñ…Ð¾Ð´! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ ÐºÐ»Ð°ÑÑ:",
        'login_success': "Ð£ÑÐ¿ÐµÑˆÐ½Ñ‹Ð¹ Ð²Ñ…Ð¾Ð´!",
        'class_letters_not_found': "Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ ÐºÐ»Ð°ÑÑÐ° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ Ð±ÑƒÐºÐ². ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚ÐµÑÑŒ Ðº Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñƒ.",
        'class_num_selected': "Ð’Ñ‹ Ð²Ñ‹Ð±Ñ€Ð°Ð»Ð¸ {class_num} ÐºÐ»Ð°ÑÑ. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð±ÑƒÐºÐ²Ñƒ:",
        'class_schedule_not_found': "Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð´Ð»Ñ ÐºÐ»Ð°ÑÑÐ° {class_id} Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾. ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚ÐµÑÑŒ Ðº Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñƒ.",
        'class_selected': "Ð’Ð°Ñˆ ÐºÐ»Ð°ÑÑ: {class_id}. Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ!",

        'action_cancelled': 'Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð¾.',
        'main_menu': 'Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ:',
        'unknown_command': 'ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð°Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸.',

        'choose_schedule_type': 'Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ, ÐºÐ°ÐºÐ¾Ðµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ:',
        'no_grades_found': 'Ð£ Ð²Ð°Ñ Ð¿Ð¾ÐºÐ° Ð½ÐµÑ‚ Ð¾Ñ†ÐµÐ½Ð¾Ðº.',
        'choose_subject_grades': 'Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° Ð¾Ñ†ÐµÐ½Ð¾Ðº:',
        'your_settings': 'Ð’Ð°ÑˆÐ¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸:',
        'schedule_for_tomorrow': "Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ ({class_id}) Ð½Ð° Ð·Ð°Ð²Ñ‚Ñ€Ð° ({day_key}, {date}):\n\n{lessons}",
        'schedule_full_header': "ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð´Ð»Ñ {class_id}:\n",
        'schedule_full_empty': "ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð´Ð»Ñ {class_id} Ð¿ÑƒÑÑ‚Ð¾.",
        'no_lessons_tomorrow': 'ÐÐ° Ð·Ð°Ð²Ñ‚Ñ€Ð° ÑƒÑ€Ð¾ÐºÐ¾Ð² Ð½ÐµÑ‚.',
        'grades_for_subject': "ÐžÑ†ÐµÐ½ÐºÐ¸ Ð¿Ð¾ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñƒ '{subject}':\n{grades}",
        'no_grades_for_subject': "ÐžÑ†ÐµÐ½Ð¾Ðº Ð¿Ð¾ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñƒ '{subject}' Ð½ÐµÑ‚.",
        'notify_lesson_toggled_on': "ðŸ”” Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ð± ÑƒÑ€Ð¾ÐºÐ°Ñ… Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹.\nÐ’Ñ‹ Ð±ÑƒÐ´ÐµÑ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ Ð·Ð° 15 Ð¼Ð¸Ð½ÑƒÑ‚ Ð´Ð¾ ÑƒÑ€Ð¾ÐºÐ°.",
        'notify_schedule_toggled_on': "ðŸ”” Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ðµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾.\nÐ’Ñ‹ Ð±ÑƒÐ´ÐµÑ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð² 7:00.",
        'ask_new_credentials': "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ð»Ð¾Ð³Ð¸Ð½ Ð¸ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ».\n"
                               "ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: `new_login new_password`\n\n"
                               "Ð”Ð»Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ /cancel",
        'invalid_credentials_format': 'ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚. Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð»Ð¾Ð³Ð¸Ð½ Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ».',
        'credentials_updated_success': 'Ð’Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹! Ð’Ñ‹ Ð±ÑƒÐ´ÐµÑ‚Ðµ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰ÐµÐ½Ñ‹ Ð² Ð³Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ.',
        'credentials_update_error': 'ÐžÑˆÐ¸Ð±ÐºÐ°: {message}. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.',

        'teacher_no_classes': 'Ð’ Ð²Ð°ÑˆÐµÐ¼ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ðµ Ð½Ðµ ÑƒÐºÐ°Ð·Ð°Ð½Ñ‹ ÐºÐ»Ð°ÑÑÑ‹. ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚ÐµÑÑŒ Ðº Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñƒ.',
        'teacher_choose_class_attendance': 'Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÐºÐ»Ð°ÑÑ Ð´Ð»Ñ Ð¾Ñ‚Ð¼ÐµÑ‚ÐºÐ¸ Ð¿Ð¾ÑÐµÑ‰Ð°ÐµÐ¼Ð¾ÑÑ‚Ð¸:',
        'teacher_choose_class_grades': 'Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÐºÐ»Ð°ÑÑ Ð´Ð»Ñ Ð²Ñ‹ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ†ÐµÐ½Ð¾Ðº:',
        'teacher_schedule_today': "Ð’Ð°ÑˆÐµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ ({day_key}, {date}):\n\n{lessons}",
        'teacher_schedule_tomorrow': "Ð’Ð°ÑˆÐµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð½Ð° Ð·Ð°Ð²Ñ‚Ñ€Ð° ({day_key}, {date}):\n\n{lessons}",
        'teacher_schedule_full': "Ð’Ð°ÑˆÐµ Ð¿Ð¾Ð»Ð½Ð¾Ðµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:\n",
        'teacher_schedule_full_empty': 'Ð’Ð°ÑˆÐµ Ð¿Ð¾Ð»Ð½Ð¾Ðµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿ÑƒÑÑ‚Ð¾.',
        'no_lessons_today': 'ÐÐ° ÑÐµÐ³Ð¾Ð´Ð½Ñ ÑƒÑ€Ð¾ÐºÐ¾Ð² Ð½ÐµÑ‚.',
        'no_lessons_teacher_tomorrow': 'ÐÐ° Ð·Ð°Ð²Ñ‚Ñ€Ð° ÑƒÑ€Ð¾ÐºÐ¾Ð² Ð½ÐµÑ‚.',
        'teacher_no_students_in_class': 'Ð’ ÐºÐ»Ð°ÑÑÐµ {class_id} Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ ÑƒÑ‡ÐµÐ½Ð¸ÐºÐ¾Ð².',
        'teacher_attendance_header': "ÐžÑ‚Ð¼ÐµÑ‚ÐºÐ° {class_id} ({date})\n\n",
        'teacher_attendance_prompt': '\n\nÐ’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑƒÑ‡ÐµÐ½Ð¸ÐºÐ°, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ñ‚Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ:',
        'teacher_choose_student_grade': 'Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑƒÑ‡ÐµÐ½Ð¸ÐºÐ°:',
        'teacher_subject_not_found': 'ÐžÑˆÐ¸Ð±ÐºÐ°: Ð½Ðµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚ÑŒ Ð²Ð°Ñˆ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚. ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚ÐµÑÑŒ Ðº Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñƒ.',
        'teacher_confirm_grade': 'Ð’Ñ‹ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ†ÐµÐ½ÐºÑƒ ÑƒÑ‡ÐµÐ½Ð¸ÐºÑƒ {student_username} Ð¿Ð¾ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñƒ {subject}?',
        'teacher_grade_set_success': 'Ð£Ñ‡ÐµÐ½Ð¸ÐºÑƒ {student_username} Ð²Ñ‹ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð° Ð¾Ñ†ÐµÐ½ÐºÐ° {grade} Ð¿Ð¾ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñƒ {subject}.',
        'teacher_choose_next_class': 'Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ ÐºÐ»Ð°ÑÑ:',

        'admin_schedule_prompt': "Ð ÐµÐ¶Ð¸Ð¼ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ñ.\n"
                                 "ÐžÐ¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ð¸ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: 'ÐŸÐ¾ÑÑ‚Ð°Ð²ÑŒ 10Ð Ð² Ð¿ÑÑ‚Ð½Ð¸Ñ†Ñƒ 1. ÐÐ»Ð³ÐµÐ±Ñ€Ð° (ÐŸÐµÑ‚Ñ€Ð¾Ð² Ð˜.Ð˜.) 2. Ð“ÐµÐ¾Ð¼ÐµÑ‚Ñ€Ð¸Ñ (Ð¡Ð¸Ð´Ð¾Ñ€Ð¾Ð²Ð° Ð.Ð.)').\n\n"
                                 "Ð”Ð»Ñ Ð²Ñ‹Ñ…Ð¾Ð´Ð° Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ /cancel.",
        'admin_gemini_init_error': 'ÐžÑˆÐ¸Ð±ÐºÐ° Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð˜Ð˜: {e}',
        'admin_gemini_config_error': 'ÐžÑˆÐ¸Ð±ÐºÐ°: GEMINI_API_KEY Ð½Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½. Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð½Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð°.',
        'admin_gemini_non_json_error': 'ÐžÑˆÐ¸Ð±ÐºÐ°: Ð˜Ð˜ Ð²ÐµÑ€Ð½ÑƒÐ» Ð¾Ñ‚Ð²ÐµÑ‚ Ð² Ð½ÐµÐ²ÐµÑ€Ð½Ð¾Ð¼ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÑ„Ð¾Ñ€Ð¼ÑƒÐ»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð¿Ñ€Ð¾Ñ.',
        'admin_gemini_json_decode_error': 'ÐžÑˆÐ¸Ð±ÐºÐ°: Ð˜Ð˜ Ð²ÐµÑ€Ð½ÑƒÐ» Ð½ÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹ JSON. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.',
        'admin_gemini_missing_keys_error': "ÐžÑˆÐ¸Ð±ÐºÐ°: Ð˜Ð˜ Ð²ÐµÑ€Ð½ÑƒÐ» 'success', Ð½Ð¾ Ð½Ðµ Ð²ÑÐµ Ð´Ð°Ð½Ð½Ñ‹Ðµ. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.",
        'admin_schedule_updated': "âœ… Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð´Ð»Ñ {class_id} Ð½Ð° {day} Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾.\nÐ’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð¸Ð»Ð¸ /cancel Ð´Ð»Ñ Ð²Ñ‹Ñ…Ð¾Ð´Ð°.",
        'admin_gemini_clarify': 'â“ {question}',
        'admin_gemini_clarify_default': 'â“ Ð˜Ð˜ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ ÑƒÑ‚Ð¾Ñ‡Ð½ÐµÐ½Ð¸Ð¹. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¾Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ.',
        'admin_gemini_internal_error': 'ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð˜Ð˜. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÑ„Ð¾Ñ€Ð¼ÑƒÐ»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ.',
        'admin_gemini_api_error': 'ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ð±Ñ€Ð°Ñ‰ÐµÐ½Ð¸Ð¸ Ðº AI: {e}\nÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð·Ð¶Ðµ.',

        'notify_daily_schedule_header': 'Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾! Ð’Ð°ÑˆÐµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ ({day_key}):\n\n',
        'notify_lesson_upcoming': 'ðŸ”” Ð£Ñ€Ð¾Ðº Ð½Ð°Ñ‡Ð½ÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· 15 Ð¼Ð¸Ð½ÑƒÑ‚:\n{lesson_str}',
    },
    'en': {
    },
    'uz': {
        # TODO
    }
}

def get_text(lang: str, key: str) -> str:
    lang_to_use = lang if lang in locales else 'uz'
    text = locales.get(lang_to_use, {}).get(key)
    if text is None: text = locales.get('ru', {}).get(key)
    if text is None: return f"_{key.upper()}_NOT_FOUND_"
        
    return text
